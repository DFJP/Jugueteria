<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Eliminar Juguete</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <div class="form-group">
          <h5 class="text-center">¿Desea eliminar el juguete seleccionado?</h5>
        </div>
      </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cancel click')">Cancelar</button>
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Eliminar</button>
    </div>
  </ng-template>
  
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card">
                <div class="card-body">
                    <h2 class="titulo">JUGUETE</h2>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-lg-6 offset-lg-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="titulo">{{accion | uppercase}} JUGUETE</h5>

                    <form [formGroup]="form" (ngSubmit)="guardarJuguete()">
                        <div class="input-group mb-3">
                            <span class="input-group-text">
                                <i class="fas fa-robot"
                                [class.green-icon]="this.form.get('nombre')?.valid"
                                [class.red-icon]="this.form.get('nombre')?.invalid && this.form.get('nombre')?.touched"></i>
                            </span>
                            <input formControlName="nombre" type="text" maxlength="50" class="form-control" placeholder="Nombre">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">
                                <i class="fas fa-dollar-sign"
                                [class.green-icon]="this.form.get('precio')?.valid"
                                [class.red-icon]="this.form.get('precio')?.invalid && this.form.get('precio')?.touched"></i>
                            </span>
                            <input formControlName="precio" type="number" min="1" max="1000" step="0.1" maxlength="4" class="form-control" placeholder="Precio">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">
                                <i class="fas fa-building"
                                [class.green-icon]="this.form.get('compania')?.valid"
                                [class.red-icon]="this.form.get('compania')?.invalid && this.form.get('compania')?.touched"></i>
                            </span>
                            <input formControlName="compania" type="text" maxlength="50" class="form-control" placeholder="Compañia">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">
                                <i class="fas fa-paste"
                                [class.green-icon]="this.form.get('edad')?.valid"
                                [class.red-icon]="this.form.get('edad')?.invalid && this.form.get('edad')?.touched"></i>
                            </span>
                            <input formControlName="edad" type="number" min="0" max="100" maxlength="3" class="form-control" placeholder="Edad">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">
                                <i class="fas fa-paste"
                                [class.green-icon]="this.form.get('descripcion')?.valid"
                                [class.red-icon]="this.form.get('descripcion')?.invalid && this.form.get('descripcion')?.touched"></i>
                            </span>
                            <textarea formControlName="descripcion" type="text" maxlength="100" class="form-control" placeholder="Descripcion"></textarea>
                        </div>
                        <div class="d-grid grap-2">
                            <button [disabled]="this.form.invalid" class="btn btn-success btn-lg"><i class="fas fa-database"></i> Agregar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-lg-6 offset-lg-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="titulo">LISTA DE JUGUETES</h5>
                    <table class="table">
                        <thead>
                            <tr>
                                <td>Id</td>
                                <td>Edad</td>                                
                                <td>Nombre</td>
                                <td>Precio</td>
                                <td>Compañia</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let juguete of listaJuguetes">
                                <td>{{juguete.id}}</td>
                                <td>{{juguete.restriccionEdad}}</td>                                
                                <td>{{juguete.nombre}}</td>
                                <td>${{juguete.precio}}</td>
                                <td>{{juguete.compania}}</td>
                                <td>
                                    <i (click)="editarJuguete(juguete)" class="fas fa-edit text-info"></i>
                                </td>
                                <td>
                                    <i (click)="open(content, juguete.id)" class="fas fa-trash-alt text-danger"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


